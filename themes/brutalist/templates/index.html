{% extends "base.html" %}

{% block content %}
<header>
    {# If you have a _index.md in your root content folder, its title would go here #}
    {# Or you can hardcode a title like <h1>Blog</h1> #}
    {% if section.title %}
        <h1>{{ section.title }}</h1>
    {% else %}
        <h1>{{ config.title }}</h1> {# Fallback to site title #}
    {% endif %}
    {% if section.description %}
        <p>{{ section.description }}</p>
    {% endif %}
    {{ section.content | safe }}
</header>

<div class="posts-list">
    {% for page in section.pages %}
        {% if page.relative_path is starting_with("blog/") %}
        <article>
            {% if page.date %}
            <p class="post-date">{{ page.date | date(format="%B %e, %Y") }}</p>
            {% endif %}
            <h2 class="post-title">
                <a href="{{ page.permalink }}">{{ page.title }}</a>
            </h2>
            {# The summary is generated from the content before the `<!-- more -->` separator in your .md file #}
            <div class="post-excerpt">
                {{ page.summary | safe }}
            </div>
            <a href="{{ page.permalink }}" class="button">Read more</a>
        </article>
        {% endif %}
    {% endfor %}
</div>
{% endblock content %}
